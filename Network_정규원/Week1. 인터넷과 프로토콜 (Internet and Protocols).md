# Week1. 인터넷과 프로토콜 (Internet and Protocols)
## 1)	인터넷이란?
- 인터넷 -->  Inter- + net(work) – 네트워크들의 연결
- 인터넷을 구성하는 요소 – HW, SW

### HW
- 호스트나 서버.   
- end hosts (각자 사용하는 컴퓨터 등)   
- interconnection devices (라우터, 스위치, 리피터 등)  
- links (유선링크_구리, 광섬유/ 무선링크_라디오 전파, 위성전파)  

### SW
- 운영체제
- 애플리케이션 프로그램
- 프로토콜  
 --> 원래는 외교용어. 다른 나라의 정상끼리 만날 때, 어떤 식으로 맞이하고 대접할지를 프로토콜이라고 함.   
네트워크로 오면서 커뮤니케이션 프로토콜이라는 용어가 생김. 통신을 위해 반드시 지켜야 함.    
  

### 프로토콜에는 프로토콜에는 어떤 것들이 포함되어 있는가?
#### -	Message format   
- 패킷 앞에 20byte의 헤더 정보가 붙게 되는데 이 헤더 정보의 포맷 같은 것을 메시지 포맷이라고 함.
#### -	Order of messages   
- 메시지를 주고 받으려면 연결이 먼저 되어야 한다든 지 등. 메시지를 주고 받는 순서
#### -	Actions  
- 메시지를 받았을 때 취해야 하는 액션.
  
  
### 네트워크 구성 요소
#### - Network edge  
- 홈 네트워크, 기관 네트워크, 모바일 네트워크 등.
#### - Network core  
- 엣지 네트워크들을 서로 연결해주기 위한 중간에 있는 네트워크. Ex)라우터, 스위치  
  
   
   
## 2) 네트워크 엣지
### 액세스 네트워크 (Access Network) 
호스트와 서버를 실제 연결해주는 네트워크
#### -	Residential access network 
 -	**DSL(Digital Subscriber Line)**    
전화망을 사용한 인터넷. 전화선이 전화국까지 접속하기 전에 스플리터가 디지털정보가 4kHz 이상의 주파수로 변환.  
그걸 다시 전달 전화국에 있는 멀티플렉서가 두 개의 파형을 분리해서 통화/디지털 데이터를 나눴음.  
 -	**Cable network**    
전달하는 매체만 다를 뿐 DSL과 근본은 같음
 -	**FTTH(Fiber To The Home)**  
광케이블이 가정 바로 앞까지 깔리는 것. 각 가정에서 사용할 수 있는 통신 용량을 최대화 함.  
광케이블을 끌고 오면 각 가정이나 아파트 단지 같은 데에 optical network terminal이 설치가 되고   
이 터미널이 집 밖에서는 빛으로 데이터 전달, 집 안에서는 전자의 흐름으로 데이터를 전달하게끔 둘 사이를 변환한다.  

#### -	Institutional access network 
- 기본적으로 이더넷을 기반으로 함. (쉽게 생각하면 랜카드)  
- 각각 컴퓨터에 이더넷을 꽂고, 이더넷이 모아서 실제 외부 라우터에 연결을 하는 형태.   
기관내 내부망(웹이나 메일)도 다 이더넷 스위치를 통해 외부 인터넷에 접속 됨.  

#### -	Wireless access network    
- Wi-fi (Wireless Lan) 와 Cellular network로 나뉘어짐.  

### --> 위와 같은 액세스 네트워크에 접속하는 호스트를 엔드 호스트(end host)라고 한다.

#### End host
-	각 엔드 호스트 마다 애플리케이션 유닛이 돌아감.  
-	**역할 :** 보내는 쪽은 패킷 사이즈에 맞게 데이터를 잘라서 액세스 네트웍에 넣어주고, 받는 쪽은 잘려진 패킷들을 다시 모아서 다시 하나의 큰 파일로 만듦.
-	데이터를 전달할 때 중요한 것. Link transmission rate.  
높으면 높을수록 데이터를 빨리 보낼 수 있음. Link capacity, bandwidth라고도 부름.  
  
#### 유선 링크의 발전사  
- **쌍꼬임선(Twisted pair) : 절연된 두 개의 구리선. 100Mbps ~ 10Gbps.**   
외부에서 케이블에 영향을 줄 때, 두 선이 꼬여있으므로 두 선이 받는 노이즈의 정도가 거의 같다는 점을 이용함. (전압이 같이 올라가거나 내려감)
- **동축 케이블(Coaxial cable) : 금은동할 때 동 아님. 같을 동 임. 축이 같은 케이블.**  
데이터 전달하는 구리선은 내부의 구리선, 외부의 구리선은 노이즈를 차단해줌. 
높은 bandwidth의 데이터 전달 및 사용할 수 있는 폭이 넓은 게 장점.
- **광섬유(Optical fiber) : 위에 두 개는 구리선으로 전류를 흘려서 데이터를 보내는 것인데, 광섬유는 빛을 보냄.**   
구리 케이블을 이용한 통신에 비해 1.5배 정도의 전송 속도를 냄. 빛이라서 외부 노이즈도 적고 에러도 거의 없음.   
매년 발전하면서 우리는 더욱 높은 주파수 대역의 빛을 사용할 수 있어서 속도가 점점 증가함. (Nyquist bandwidth: 캐리어 주파수에 비례해서 bandwidth도 증가)  
신호 감쇠되는 것도 다른 것에 비해서 굉장히 낮음. 빛이라서 전자기적 잡음에도 영향 안 받음  

#### 무선 링크의 발전사
- 와이어리스는 여러 bandwidth를 쓸 수 있지만 와이파이에선 2.4GHz, 5GHz
휴대폰 통신에서는 2G 대역 전후를 많이 씀.  
- 5세대로 가면 30GHz ~ 300GHz 대역의 bandwidth를 사용할 수 있음.  
300GHz일 때 파장은 1mm, 30GHz일 때 파장은 10mm이기 때문에, 이 영역을 밀리미터 웨이브라고 부르기도 함.  
**-->	내가 커버 해야 하는 range에 따라서 사용하는 주파수도 달라지고 그에 따른 프로토콜도 달라짐.**  

## 3) 네트워크 코어  
- 엣지는 네트워크의 사용자 부분, 코어는 네트워크의 중간 부분
- Mesh : 노드들이 그물 형태로 이루어져 있는 것.   
어느 한 노드가 고장나거나 파괴되더라도 나머지 노드들이 통신하는 데 아무 문제 없도록 함.   
- 하나의 라우터에서 다음 라우터로 계속 데이터를 포워딩 해주는 기능이 코어 네트워크의 주 기능.  
- 라우터에서 패킷에 담긴 목적지 주소를 보고 판단하여 보냄.

### 코어 라우터에서 데이터를 전달하는 방식  
**1.	서킷 스위칭(circuit switching) : 회선 교환.**   
- 데이터 전달하기 전에 src와 dest간에 길을 설정하고 네트워크 자원을 예약해 둠. 다른 호스트가 끼어들 수 없음. 공유할 수 없음.  
- 각각의 콜에는 자원 할당. 이 자원은 sharing이 안됨. 기존 전화망(유선전화망)에서 쓰였음. 아무 데이터가 흐르지 않더라도 제 3자가 그 자원을 사용할 수 없음.

**2.	패킷 스위칭(packet switching) : 패킷 교환.**  
- 전체 데이터는 패킷으로 나뉘어져서 각각의 패킷은 dest주소를 갖고 별도로 취급이 됨.
- 전체 full link capacity를 가지고 전달이 됨. 패킷 사이즈가 L-bit, 링크 capacity가 R-bps라고 할 때  
이를 전달하기 위해 걸리는 시간은 L/R초.
- src에서 dest까지 전체 지연시간은 hop 수에 비례함.   
ex) 패킷사이즈 7.5Mbits, 링크 capacity 1.5Mbps. 1hop전달 되는 데 7.5/1.5 = 5초.   
src에서 dest까지 2hop이라고 하면 end-end delay가 10초. 5hop이면 25초.  


### 패킷 교환망 vs 회선 교환망.  
-	인터넷 서비스를 제공하는 사업자 입장에선 패킷 교환망. 더 많은 사용자를 수용할 수 있기 때문.  
우리가 인터넷을 사용할 때도 계~속 클릭하는 것이 아니기 때문에 실제 데이터가 전달되는 시간은 우리가 인터넷을 사용하는 시간에 비해서는 비율이 매우 낮음.   
-	패킷 교환망의 단점 : 1Mbps link(=Transmission rate)에서 100kbps가 각자의 peak data라고 한다면, 
  10명 이상의 유저가 동시에 active했을 때 통신 속도가 매우 느려짐. 하지만 이렇게 될 확률이 현저히 낮음.  
35명까지 한 link를 이용한다고 가정했을 때 0.04%정도  
**--> 즉, 3.5배 이상의 유저들에게 서비스 가능**  
- 동시접속 문제가 아니더라도 패킷들은 중간 라우터에 도착하게 되면, 라우터가 패킷에 담겨있는 주소를 보고 결정해야 하는데, 그 동안 queue에 잠깐 저장 되면서 지연시간이 생긴다.
그리고 queue는 사이즈가 무한하지 않아서 경우에 따라서는 라우터의 용량을 초과하는 데이터가 도착할 수 도 있고 이 경우는 패킷 손실이 발생할 수 있음.  
-	서킷 스위칭, 회선 교환망은 항상 내가 필요로 하는 최대 용량 제공. 지연시간을 겪지 않음.  
#### -> 그러므로, 회선교환망, 패킷 교환망은 각자 장단점을 갖고 있기 때문에 필요로 하는 형식의 네트워크 코어를 잘 선택해서 서비스 할 것.

